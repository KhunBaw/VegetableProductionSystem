(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40bb6b3a"],{"0a97":function(e,t,a){},"808b":function(e,t,a){"use strict";a("e21f")},"880d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-container",{attrs:{fluid:""}},[a("b-row",{attrs:{"align-h":"between"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"9",md:"6",lg:"5",xl:"4"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"ค้นหา","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"พิมพ์เพื่อค้นหา"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("ล้างการค้นหา")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1 text-right",attrs:{sm:"7",md:"5",lg:"4",xl:"4"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.AddFarmers",modifiers:{AddFarmers:!0}}],staticClass:"btn btn-success btn-sm",staticStyle:{height:"35px",width:"140px"}},[e._v(" เพิ่ม ")])],1)],1),a("b-table",{staticClass:"table",attrs:{items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-included-fields":e.filterOn,busy:e.isBusy,borderless:!1,stacked:"sm","empty-text":"ไม่มีข้อมูล","empty-filtered-text":"ไม่มีข้อมูล","show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[e._v(" กำลังโหลด...")])],1)]},proxy:!0},{key:"cell(name)",fn:function(t){return[e._v(" "+e._s(""===t.item.fm_name&&""===t.item.fm_lname?"-":t.item.fm_name)+" "+e._s(""===t.item.fm_lname?"":t.item.fm_lname))]}},{key:"cell(fm_address)",fn:function(t){return[e._v(" "+e._s(""===t.item.fm_address?"-":t.item.fm_address))]}},{key:"cell(fm_phnum)",fn:function(t){return[e._v(" "+e._s(""===t.item.fm_phnum?"-":t.item.fm_phnum))]}},{key:"cell(position)",fn:function(t){return[e._v(" "+e._s(""===t.item.position?"-":t.item.position))]}},{key:"cell(photo)",fn:function(e){return[a("img",{staticStyle:{width:"auto",height:"100px"},attrs:{src:e.value}})]}},{key:"cell(actions)",fn:function(t){return[a("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"แก้ไข : "+t.item.username,expression:"'แก้ไข : ' + row.item.username",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-warning btn-sm ml-1 mt-1 actions",staticStyle:{height:"35px"},on:{click:function(a){return e.Edit(t.item,t.item.username,a.target)}}},[a("i",{staticClass:"material-icons"},[e._v(" edit ")])]),a("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"รีเซ็ตรหัสผ่านผู้ใช้ : "+t.item.username,expression:"\n            'รีเซ็ตรหัสผ่านผู้ใช้ : ' + row.item.username\n          ",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-secondary btn-sm ml-1 mt-1 actions",staticStyle:{height:"35px"},on:{click:function(a){return e.Reset(t.item.username)}}},[a("i",{staticClass:"material-icons"},[e._v(" autorenew ")])]),a("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"ลบผู้ใช้ : "+t.item.username,expression:"'ลบผู้ใช้ : ' + row.item.username",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-danger btn-sm ml-1 mt-1 actions",staticStyle:{height:"35px"},on:{click:function(a){return e.Delete(t.item.username)}}},[a("i",{staticClass:"material-icons"},[e._v(" delete_forever ")])])]}}])}),a("b-row",{attrs:{"align-h":"between"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"6",md:"6",lg:"5",xl:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"แสดงหน้าละ","label-for":"per-page-select","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm"}},[a("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{sm:"6",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),a("Edit",{attrs:{editModal:e.editModal,Farmers:e.Farmers}}),a("Add",{attrs:{Farmers:e.Farmers}})],1)],1)},r=[],n=a("1da1"),i=(a("96cf"),a("bc3a")),o=a.n(i),l=a("1940"),c=a.n(l),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Add"}},[a("b-modal",{attrs:{id:"AddFarmers",title:"เพิ่มข้อมูลเกษตรกร","ok-title":"ตกลง","cancel-title":"ยกเลิก",size:"lg"},on:{ok:e.handleOk,show:e.resetData}},[a("form",{staticClass:"needs-validation"},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ชื่อผู้ใช้")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.username,expression:"data.username"},{name:"validate",rawName:"v-validate",value:"required|alpha_num|min:4|unique",expression:"'required|alpha_num|min:4|unique'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("username")},attrs:{type:"text",name:"username","aria-label":"username"},domProps:{value:e.data.username},on:{input:function(t){t.target.composing||e.$set(e.data,"username",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("username")))])])])]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ชื่อ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.fm_name,expression:"data.fm_name"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("fm_name")},attrs:{type:"text",name:"fm_name","aria-label":"fm_name"},domProps:{value:e.data.fm_name},on:{input:function(t){t.target.composing||e.$set(e.data,"fm_name",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("fm_name")))])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("นามสกุล")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.fm_lname,expression:"data.fm_lname"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("fm_lname")},attrs:{type:"text",name:"fm_lname","aria-label":"fm_lname"},domProps:{value:e.data.fm_lname},on:{input:function(t){t.target.composing||e.$set(e.data,"fm_lname",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("fm_lname")))])])])]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ที่อยู่")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.data.fm_address,expression:"data.fm_address"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("fm_address")},attrs:{type:"text",name:"fm_address","aria-label":"fm_address"},domProps:{value:e.data.fm_address},on:{input:function(t){t.target.composing||e.$set(e.data,"fm_address",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("fm_address")))])])])]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("เบอร์โทรศัพท์")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.fm_phnum,expression:"data.fm_phnum"},{name:"validate",rawName:"v-validate",value:"digits:10",expression:"'digits:10'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("fm_phnum")},attrs:{type:"text",name:"fm_phnum","aria-label":"fm_phnum"},domProps:{value:e.data.fm_phnum},on:{input:function(t){t.target.composing||e.$set(e.data,"fm_phnum",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("fm_phnum")))])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ตำแหน่ง")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.position,expression:"data.position"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("position")},attrs:{type:"text",name:"position","aria-label":"position"},domProps:{value:e.data.position},on:{input:function(t){t.target.composing||e.$set(e.data,"position",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("position")))])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col mb-3"},[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"inputGroupFileAddon01"}},[e._v("อัพโหลดภาพ")])]),a("div",{staticClass:"custom-file"},[a("input",{ref:"file",staticClass:"custom-file-input",attrs:{type:"file",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01"},on:{change:function(t){return e.handleFileUpload()}}}),a("label",{staticClass:"custom-file-label",attrs:{for:"inputGroupFile01"}},[e._v(e._s(""==e.file?"เลือกไฟล์":e.file.name))])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-center",attrs:{id:"preview"}},[e.url?a("img",{staticStyle:{"max-width":"50%",height:"auto"},attrs:{src:e.url}}):e._e()])])])])])],1)},m=[],d=(a("2b3d"),a("d3b7"),a("3ca3"),a("ddb0"),a("7bb1")),p={components:{},props:{Farmers:Function},data:function(){return{file:"",url:null,data:{}}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:d["a"].extend("unique",{validate:e.isUsernameUnique,getMessage:"มี ชื่อผู้ใช้ นี้อยู่แล้ว"});case 1:case"end":return t.stop()}}),t)})))()},methods:{handleOk:function(e){e.preventDefault(),this.SaveFarmers()},handleFileUpload:function(){this.file=this.$refs.file.files[0],this.url=URL.createObjectURL(this.file)},resetData:function(){this.data={username:"",fm_name:"",fm_lname:"",fm_address:"",fm_phnum:"",position:"",photo:""}},isUsernameUnique:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("accessToken"),t.next=4,o.a.get(e.$apiUrl+"farmers/"+e.data.username,{headers:{Authorization:"bearer ".concat(a)}});case 4:if(s=t.sent,204!==s.status){t.next=7;break}return t.abrupt("return",!1);case 7:t.next=13;break;case 9:if(t.prev=9,t.t0=t["catch"](0),403!==t.t0.response.status){t.next=13;break}return t.abrupt("return",!0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},SaveFarmers:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$validator.validateAll().then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var s,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=28;break}return s=localStorage.getItem("accessToken"),t.next=4,s;case 4:if(!t.sent){t.next=26;break}if(t.prev=5,e.$bvModal.hide("AddFarmers"),r=new FormData,r.append("file",e.file),null==e.url){t.next=14;break}return t.next=12,o.a.post(e.$apiUrl+"upload",r,{headers:{Authorization:"bearer ".concat(s),"Content-Type":"multipart/form-data"}}).catch((function(){return c()("ผิดพลาด","อัพรูปไม่สำเร็จ",{icon:"error",button:"ตกลง"})}));case 12:n=t.sent,e.data.photo=n.data;case 14:return t.next=16,o.a.post(e.$apiUrl+"user/register",e.data,{headers:{Authorization:"bearer ".concat(s)}});case 16:e.Farmers(),c()("เพิ่มข้อมูลเสร็จสิ้นแล้ว!",{icon:"success",button:"ตกลง"}),t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](5),e.$router.push("/"),localStorage.removeItem("username");case 24:t.next=27;break;case 26:e.$router.push("/");case 27:return t.abrupt("return");case 28:c()("ผิดพลาด","กรุณากรอกข้อมูลให้ถูกต้อง!",{icon:"error",button:"ตกลง"});case 29:case"end":return t.stop()}}),t,null,[[5,20]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()}}},f=p,v=(a("808b"),a("2877")),b=Object(v["a"])(f,u,m,!1,null,null,null),h=b.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Edit"}},[a("b-modal",{attrs:{id:e.editModal.id,title:e.editModal.title,"ok-title":"ตกลง","cancel-title":"ยกเลิก",size:"lg"},on:{ok:e.handleOk,cancel:e.Farmers}},[a("form",{staticClass:"needs-validation"},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ชื่อ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editModal.content.fm_name,expression:"editModal.content.fm_name"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("fm_name")},attrs:{type:"text",name:"fm_name","aria-label":"fm_name"},domProps:{value:e.editModal.content.fm_name},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"fm_name",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("fm_name")))])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("นามสกุล")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editModal.content.fm_lname,expression:"editModal.content.fm_lname"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("fm_lname")},attrs:{type:"text",name:"fm_lname","aria-label":"fm_lname"},domProps:{value:e.editModal.content.fm_lname},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"fm_lname",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("fm_lname")))])])])]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ที่อยู่")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editModal.content.fm_address,expression:"editModal.content.fm_address"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("fm_address")},attrs:{type:"text",name:"fm_address","aria-label":"fm_address"},domProps:{value:e.editModal.content.fm_address},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"fm_address",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("fm_address")))])])])]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("เบอร์โทรศัพท์")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editModal.content.fm_phnum,expression:"editModal.content.fm_phnum"},{name:"validate",rawName:"v-validate",value:"digits:10",expression:"'digits:10'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("fm_phnum")},attrs:{type:"text",name:"fm_phnum","aria-label":"fm_phnum"},domProps:{value:e.editModal.content.fm_phnum},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"fm_phnum",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("fm_phnum")))])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ตำแหน่ง")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editModal.content.position,expression:"editModal.content.position"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("position")},attrs:{type:"text",name:"position","aria-label":"position"},domProps:{value:e.editModal.content.position},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"position",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("position")))])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col mb-3"},[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"inputGroupFileAddon01"}},[e._v("อัพโหลดภาพ")])]),a("div",{staticClass:"custom-file"},[a("input",{ref:"file",staticClass:"custom-file-input",attrs:{type:"file",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01"},on:{change:function(t){return e.handleFileUpload()}}}),a("label",{staticClass:"custom-file-label",attrs:{for:"inputGroupFile01"}},[e._v(e._s(null==e.file.name?e.editModal.content.photo:e.file.name))])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-center",attrs:{id:"preview"}},[(null===e.url?e.editModal.content.photo:e.url)?a("img",{staticStyle:{"max-width":"50%",height:"auto"},attrs:{src:null===e.url?e.editModal.content.photo:e.url}}):e._e()])])])])])],1)},_=[],x={components:{},props:{editModal:Object,Farmers:Function},data:function(){return{file:"",url:null}},mounted:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{handleOk:function(e){e.preventDefault(),this.SaveFarmers()},handleFileUpload:function(){this.file=this.$refs.file.files[0],this.url=URL.createObjectURL(this.file)},SaveFarmers:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$validator.validateAll().then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return s=localStorage.getItem("accessToken"),t.next=4,s;case 4:if(!t.sent){t.next=8;break}try{c()({title:"คุณแน่ใจหรือไม่?",text:"คุณแน่ใจหรือไม่ที่จะอัพเดท?",icon:"warning",buttons:["ยกเลิก","ตกลง"],dangerMode:!0}).then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=15;break}if(e.$bvModal.hide(e.editModal.id),r=new FormData,r.append("file",e.file),null==e.url){t.next=9;break}return t.next=7,o.a.post(e.$apiUrl+"upload",r,{headers:{Authorization:"bearer ".concat(s),"Content-Type":"multipart/form-data"}}).catch((function(){return c()("ผิดพลาด","อัพรูปไม่สำเร็จ",{icon:"error",button:"ตกลง"})}));case 7:n=t.sent,e.editModal.content.photo=n.data;case 9:return t.next=11,o.a.put(e.$apiUrl+"farmers/"+e.editModal.content.username,e.editModal.content,{headers:{Authorization:"bearer ".concat(s)}});case 11:c()("อัพเดทเสร็จสิ้น!",{icon:"success",button:"ตกลง"}),e.Farmers(),t.next=16;break;case 15:c()("ยกเลิกแล้ว!",{button:"ตกลง"});case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(r){e.$router.push("/"),localStorage.removeItem("username")}t.next=9;break;case 8:e.$router.push("/");case 9:return t.abrupt("return");case 10:c()("ผิดพลาด","กรุณากรอกข้อมูลให้ถูกต้อง!",{icon:"error",button:"ตกลง"});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()}}},w=x,C=Object(v["a"])(w,g,_,!1,null,null,null),k=C.exports,y={th:{attributes:{username:"ชื่อผู้ใช้"}}};d["a"].localize(y);var M={components:{Add:h,Edit:k},metaInfo:{title:"Farmers"},data:function(){return{items:[],isBusy:!0,fields:[{key:"id",label:"ลำดับ",sortable:!0,sortDirection:"desc"},{key:"photo",label:"รูปภาพ",sortable:!0,class:"text-center"},{key:"username",label:"ชื่อผู้ใช้",sortable:!0,class:"text-center"},{key:"name",label:"ชื่อ",sortable:!0,class:"text-center"},{key:"fm_address",label:"ที่อยู่",sortable:!0,class:"text-center"},{key:"fm_phnum",label:"เบอร์โทรศัพท์",sortable:!0,class:"text-center"},{key:"position",label:"ตำแหน่ง",sortable:!0,class:"text-center"},{key:"actions",label:"การดำเนินการ"}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15,30,50,{value:100,text:"100"}],filter:"",filterOn:[],editModal:{id:"edit-modal",title:"",content:""}}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.Farmers();case 1:case"end":return t.stop()}}),t)})))()},methods:{Edit:function(e,t,a){this.editModal.title="แก้ไข : ".concat(t),this.editModal.content=e,this.$root.$emit("bv::show::modal",this.editModal.id,a)},Farmers:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$toasts.warning("กำลังโหลดข้อมูลกรุณารอสักครู่"),a=localStorage.getItem("accessToken"),t.next=4,a;case 4:if(!t.sent){t.next=22;break}return t.prev=5,t.next=8,o.a.get(e.$apiUrl+"farmers",{headers:{Authorization:"bearer ".concat(a)}});case 8:s=t.sent,e.items=s.data,e.editModal.content=s.data[0],e.totalRows=e.items.length,e.isBusy=!1,e.$toasts.success("เรียกข้อมูลเสร็จสิ้น"),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](5),e.$router.push("/"),localStorage.removeItem("username");case 20:t.next=23;break;case 22:e.$router.push("/");case 23:case"end":return t.stop()}}),t,null,[[5,16]])})))()},Delete:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,localStorage.getItem("accessToken");case 2:s=a.sent,c()({title:"คุณแน่ใจหรือไม่?",text:"คุณแน่ใจหรือไม่ที่จะลบไอดี : "+e,icon:"warning",buttons:["ยกเลิก","ตกลง"],dangerMode:!0}).then(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(r){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r){a.next=7;break}return a.next=3,o.a.delete(t.$apiUrl+"farmers/"+e,{headers:{Authorization:"bearer ".concat(s)}});case 3:t.Farmers(),c()("ลบเสร็จสิ้น!",{icon:"success",button:"ตกลง"}),a.next=8;break;case 7:c()("ยกเลิกแล้ว!",{icon:"success",button:"ตกลง"});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 4:case"end":return a.stop()}}),a)})))()},Reset:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,localStorage.getItem("accessToken");case 2:s=a.sent,c()({title:"คุณแน่ใจหรือไม่?",text:"คุณแน่ใจหรือไม่ที่จะรีเซ็ตรหัสผ่าน : "+e,icon:"warning",buttons:["ยกเลิก","ตกลง"],dangerMode:!0}).then(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(r){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r){a.next=7;break}return a.next=3,o.a.put(t.$apiUrl+"resetpass/"+e,{headers:{Authorization:"bearer ".concat(s)}});case 3:t.Farmers(),c()("รีเซ็ตเสร็จสิ้น!",{icon:"success",button:"ตกลง"}),a.next=8;break;case 7:c()("ยกเลิกแล้ว!",{icon:"success",button:"ตกลง"});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 4:case"end":return a.stop()}}),a)})))()}}},F=M,$=(a("ee7e"),Object(v["a"])(F,s,r,!1,null,"37c25186",null));t["default"]=$.exports},e21f:function(e,t,a){},ee7e:function(e,t,a){"use strict";a("0a97")}}]);
//# sourceMappingURL=chunk-40bb6b3a.ae171bac.js.map