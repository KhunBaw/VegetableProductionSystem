(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d90b630"],{"1e5a":function(e,t,i){"use strict";i("e427")},"27eb":function(e,t,i){"use strict";i("a628")},a628:function(e,t,i){},c1ad:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-container",{attrs:{fluid:""}},[i("b-row",{attrs:{"align-h":"between"}},[i("b-col",{staticClass:"my-1",attrs:{sm:"9",md:"6",lg:"5",xl:"4"}},[i("b-form-group",{staticClass:"mb-2",attrs:{label:"ค้นหา","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[i("b-input-group",{attrs:{size:"sm"}},[i("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"พิมพ์เพื่อค้นหา"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),i("b-input-group-append",[i("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("ล้างการค้นหา")])],1)],1)],1)],1),i("b-col",{staticClass:"my-1 text-right",attrs:{sm:"7",md:"5",lg:"4",xl:"4"}},[i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.AddFertilizer",modifiers:{AddFertilizer:!0}}],staticClass:"btn btn-success btn-sm",staticStyle:{height:"35px",width:"140px"}},[e._v(" เพิ่ม ")])],1)],1),i("b-table",{staticClass:"table table-bordered",attrs:{items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-included-fields":e.filterOn,busy:e.isBusy,stacked:"sm","empty-text":"ไม่มีข้อมูล","empty-filtered-text":"ไม่มีข้อมูล","show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[i("div",{staticClass:"text-center text-danger my-2"},[i("b-spinner",{staticClass:"align-middle"}),i("strong",[e._v(" กำลังโหลด...")])],1)]},proxy:!0},{key:"cell(fertilizer_id)",fn:function(t){return[e._v(" "+e._s(t.item.id)+" ")]}},{key:"cell(fertilizer_at)",fn:function(t){return e._l(t.value,(function(t){return i("span",{key:t.time},[e._v(e._s(t.time)+" น. จำนวน "+e._s(t.fertilizer_amount)+" "+e._s(t.unit.unit_th)),i("br")])}))}},{key:"cell(day_times)",fn:function(t){return[e._v(" "+e._s(t.value)+" วัน ")]}},{key:"cell(num_first)",fn:function(t){return[e._v(" "+e._s(t.value)+" วัน ")]}},{key:"cell(num_pick)",fn:function(t){return[e._v(" "+e._s(t.value)+" วัน ")]}},{key:"cell(actions)",fn:function(t){return[i("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"แก้ไข : "+t.item.fertilizer_type,expression:"'แก้ไข : ' + row.item.fertilizer_type",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-warning btn-sm ml-1 mt-1 actions",staticStyle:{height:"35px"},on:{click:function(i){return e.Edit(t.item,t.item.fertilizer_type,i.target)}}},[i("i",{staticClass:"material-icons"},[e._v(" edit ")])]),i("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"ลบ : "+t.item.fertilizer_type,expression:"'ลบ : ' + row.item.fertilizer_type",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-danger btn-sm ml-1 mt-1 actions",staticStyle:{height:"35px"},on:{click:function(i){return e.Delete(t.item.fertilizer_id,t.item.fertilizer_type)}}},[i("i",{staticClass:"material-icons"},[e._v(" delete_forever ")])])]}}])}),i("b-row",{attrs:{"align-h":"between"}},[i("b-col",{staticClass:"my-1",attrs:{sm:"6",md:"6",lg:"5",xl:"4"}},[i("b-form-group",{staticClass:"mb-0",attrs:{label:"แสดงหน้าละ","label-for":"per-page-select","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm"}},[i("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),i("b-col",{staticClass:"my-1",attrs:{sm:"6",md:"6"}},[i("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),i("Edit",{attrs:{editModal:e.editModal,Fertilizer:e.Fertilizer}}),i("Add",{attrs:{Fertilizer:e.Fertilizer}})],1)],1)},r=[],n=i("1da1"),s=(i("96cf"),i("bc3a")),l=i.n(s),o=i("1940"),u=i.n(o),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"Edit"}},[i("b-modal",{attrs:{id:e.editModal.id,title:e.editModal.title,"ok-title":"ตกลง","cancel-title":"ยกเลิก",size:"lg"},on:{ok:e.handleOk,cancel:e.Fertilizer}},[i("form",{staticClass:"form-group needs-validation"},[i("div",{staticClass:"row mb-3"},[i("div",{staticClass:"col",staticStyle:{"min-width":"300px"}},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-text"},[e._v("ชื่อปุ๋ย:")]),i("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.editModal.content.fertilizer_type,expression:"editModal.content.fertilizer_type"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("fertilizer_type")},attrs:{type:"text","aria-label":"fertilizer_type",name:"fertilizer_type"},domProps:{value:e.editModal.content.fertilizer_type},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"fertilizer_type",t.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("fertilizer_type")))])])])]),i("div",{staticClass:"row mb-3"},[i("div",{staticClass:"col",staticStyle:{"min-width":"300px"}},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-text"},[e._v("จำนวนวัน/ครั้ง:")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editModal.content.day_times,expression:"editModal.content.day_times",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|min_value:1|integer",expression:"'required|min_value:1|integer'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("day_times")},attrs:{type:"number","aria-label":"day_times",name:"day_times",min:"1"},domProps:{value:e.editModal.content.day_times},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"day_times",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),i("span",{staticClass:"input-group-text"},[e._v("วัน")]),i("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("day_times")))])])])]),i("div",{staticClass:"row mb-3"},[i("div",{staticClass:"col",staticStyle:{"min-width":"300px"}},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-text"},[e._v("จำนวนวันก่อนใส่ปุ๋ยครั้งแรก:")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editModal.content.num_first,expression:"editModal.content.num_first",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|min_value:1|integer",expression:"'required|min_value:1|integer'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("num_first")},attrs:{type:"number","aria-label":"num_first",name:"num_first",min:"1"},domProps:{value:e.editModal.content.num_first},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"num_first",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),i("span",{staticClass:"input-group-text"},[e._v("วัน")]),i("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("num_first")))])])]),i("div",{staticClass:"col",staticStyle:{"min-width":"300px"}},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-text"},[e._v("จำนวนวันหยุดใส่ปุ๋ยก่อนเก็บ:")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editModal.content.num_pick,expression:"editModal.content.num_pick",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|min_value:1|integer",expression:"'required|min_value:1|integer'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("num_pick")},attrs:{type:"number","aria-label":"num_pick",name:"num_pick",min:"1"},domProps:{value:e.editModal.content.num_pick},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"num_pick",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),i("span",{staticClass:"input-group-text"},[e._v("วัน")]),i("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("num_pick")))])])])]),e._l(e.editModal.content.fertilizer_at,(function(t){return i("div",{key:t.time,staticClass:"row mb-3"},[i("div",{staticClass:"col",staticStyle:{"min-width":"300px"}},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-text"},[e._v("เวลา:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"f_at.time"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("time")},attrs:{type:"time","aria-label":"time",name:"time",min:"1"},domProps:{value:t.time},on:{input:function(i){i.target.composing||e.$set(t,"time",i.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("time")))])])]),i("div",{staticClass:"col",staticStyle:{"min-width":"300px"}},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-text"},[e._v("ปริมาณปุ๋ย/พื้นที่:")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.fertilizer_amount,expression:"f_at.fertilizer_amount",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|min_value:1|integer",expression:"'required|min_value:1|integer'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("fertilizer_amount")},attrs:{type:"number","aria-label":"fertilizer_amount",name:"fertilizer_amount",min:"1"},domProps:{value:t.fertilizer_amount},on:{input:function(i){i.target.composing||e.$set(t,"fertilizer_amount",e._n(i.target.value))},blur:function(t){return e.$forceUpdate()}}}),i("select",{directives:[{name:"model",rawName:"v-model",value:t.unit.unit_id,expression:"f_at.unit.unit_id"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select input-group-text",class:{input:!0,"is-invalid":e.errors.has("unit")},attrs:{name:"unit",required:""},on:{change:function(i){var a=Array.prototype.filter.call(i.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t.unit,"unit_id",i.target.multiple?a:a[0])}}},[i("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("กรุณาเลือก...")]),e._l(e.unit,(function(t){return i("option",{key:t.unit_id,domProps:{value:t.unit_id}},[e._v(" "+e._s(t.unit_eng)+" ("+e._s(t.unit_th)+") ")])}))],2),i("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("fertilizer_amount")))]),i("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("unit")))])])])])}))],2),i("div",{staticClass:"text-center"},[i("b-button",{staticClass:"btn btn-success btn-sm ml-1 mt-1 actions",staticStyle:{height:"35px",width:"80px"},on:{click:function(t){return e.addindex()}}},[e._v(" เพิ่ม ")]),i("b-button",{staticClass:"btn btn-danger btn-sm ml-1 mt-1 actions",class:e.editModal.content.fertilizer_at.length>1?null:"disabled",staticStyle:{height:"35px",width:"80px"},on:{click:function(t){e.editModal.content.fertilizer_at.length>1&&e.editModal.content.fertilizer_at.pop()}}},[e._v(" ลด ")])],1)])],1)},d=[],m={components:{},props:{editModal:Object,Fertilizer:Function},data:function(){return{unit:Array}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=localStorage.getItem("accessToken"),t.next=3,i;case 3:if(!t.sent){t.next=17;break}return t.prev=4,t.next=7,l.a.get(e.$apiUrl+"unit",{headers:{Authorization:"bearer ".concat(i)}});case 7:a=t.sent,e.unit=a.data,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](4),e.$router.push("/"),localStorage.removeItem("username");case 15:t.next=18;break;case 17:e.$router.push("/");case 18:case"end":return t.stop()}}),t,null,[[4,11]])})))()},methods:{addindex:function(){this.editModal.content.fertilizer_at.push({fertilizer_amount:1,time:"",unit:{unit_id:""}})},handleOk:function(e){e.preventDefault(),this.SaveFertilizer()},SaveFertilizer:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$validator.validateAll().then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(i){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!i){t.next=10;break}return a=localStorage.getItem("accessToken"),t.next=4,a;case 4:if(!t.sent){t.next=8;break}try{u()({title:"คุณแน่ใจหรือไม่?",text:"คุณแน่ใจหรือไม่ที่จะอัพเดท?",icon:"warning",buttons:["ยกเลิก","ตกลง"],dangerMode:!0}).then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!i){t.next=8;break}return e.$bvModal.hide(e.editModal.id),t.next=4,l.a.put(e.$apiUrl+"fertilizer/"+e.editModal.content.fertilizer_id,e.editModal.content,{headers:{Authorization:"bearer ".concat(a)}});case 4:u()("อัพเดทเสร็จสิ้น!",{icon:"success",button:"ตกลง"}),e.Fertilizer(),t.next=9;break;case 8:u()("ยกเลิกแล้ว!",{button:"ตกลง"});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(r){e.$router.push("/"),localStorage.removeItem("username")}t.next=9;break;case 8:e.$router.push("/");case 9:return t.abrupt("return");case 10:u()("ผิดพลาด","กรุณากรอกข้อมูลให้ถูกต้อง!",{icon:"error",button:"ตกลง"});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()}}},p=m,v=i("2877"),f=Object(v["a"])(p,c,d,!1,null,null,null),_=f.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"Add"}},[i("b-modal",{attrs:{id:"AddFertilizer",title:"เพิ่มปุ๋ย","ok-title":"ตกลง","cancel-title":"ยกเลิก",size:"lg"},on:{ok:e.handleOk,show:e.resetData}},[i("form",{staticClass:"form-group needs-validation"},[i("div",{staticClass:"row mb-3"},[i("div",{staticClass:"col",staticStyle:{"min-width":"300px"}},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-text"},[e._v("ชื่อปุ๋ย:")]),i("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.data.fertilizer_type,expression:"data.fertilizer_type"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("fertilizer_type")},attrs:{type:"text","aria-label":"fertilizer_type",name:"fertilizer_type"},domProps:{value:e.data.fertilizer_type},on:{input:function(t){t.target.composing||e.$set(e.data,"fertilizer_type",t.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("fertilizer_type")))])])])]),i("div",{staticClass:"row mb-3"},[i("div",{staticClass:"col",staticStyle:{"min-width":"300px"}},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-text"},[e._v("จำนวนวัน/ครั้ง:")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.data.day_times,expression:"data.day_times",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|min_value:1|integer",expression:"'required|min_value:1|integer'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("day_times")},attrs:{type:"number","aria-label":"day_times",name:"day_times",min:"1"},domProps:{value:e.data.day_times},on:{input:function(t){t.target.composing||e.$set(e.data,"day_times",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),i("span",{staticClass:"input-group-text"},[e._v("วัน")]),i("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("day_times")))])])])]),i("div",{staticClass:"row mb-3"},[i("div",{staticClass:"col",staticStyle:{"min-width":"300px"}},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-text"},[e._v("จำนวนวันก่อนใส่ปุ๋ยครั้งแรก:")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.data.num_first,expression:"data.num_first",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|min_value:1|integer",expression:"'required|min_value:1|integer'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("num_first")},attrs:{type:"number","aria-label":"num_first",name:"num_first",min:"1"},domProps:{value:e.data.num_first},on:{input:function(t){t.target.composing||e.$set(e.data,"num_first",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),i("span",{staticClass:"input-group-text"},[e._v("วัน")]),i("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("num_first")))])])]),i("div",{staticClass:"col",staticStyle:{"min-width":"300px"}},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-text"},[e._v("จำนวนวันหยุดใส่ปุ๋ยก่อนเก็บ:")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.data.num_pick,expression:"data.num_pick",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|min_value:1|integer",expression:"'required|min_value:1|integer'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("num_pick")},attrs:{type:"number","aria-label":"num_pick",name:"num_pick",min:"1"},domProps:{value:e.data.num_pick},on:{input:function(t){t.target.composing||e.$set(e.data,"num_pick",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),i("span",{staticClass:"input-group-text"},[e._v("วัน")]),i("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("num_pick")))])])])]),e._l(e.data.fertilizer_at,(function(t){return i("div",{key:t.time,staticClass:"row mb-3"},[i("div",{staticClass:"col",staticStyle:{"min-width":"300px"}},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-text"},[e._v("เวลา:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"f_at.time"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("time")},attrs:{type:"time","aria-label":"time",name:"time",min:"1"},domProps:{value:t.time},on:{input:function(i){i.target.composing||e.$set(t,"time",i.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("time")))])])]),i("div",{staticClass:"col",staticStyle:{"min-width":"300px"}},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-text"},[e._v("ปริมาณปุ๋ย/พื้นที่:")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.fertilizer_amount,expression:"f_at.fertilizer_amount",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|min_value:1|integer",expression:"'required|min_value:1|integer'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("fertilizer_amount")},attrs:{type:"number","aria-label":"fertilizer_amount",name:"fertilizer_amount",min:"1"},domProps:{value:t.fertilizer_amount},on:{input:function(i){i.target.composing||e.$set(t,"fertilizer_amount",e._n(i.target.value))},blur:function(t){return e.$forceUpdate()}}}),i("select",{directives:[{name:"model",rawName:"v-model",value:t.unit_id,expression:"f_at.unit_id"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select input-group-text",class:{input:!0,"is-invalid":e.errors.has("unit")},attrs:{name:"unit",required:""},on:{change:function(i){var a=Array.prototype.filter.call(i.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"unit_id",i.target.multiple?a:a[0])}}},[i("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("กรุณาเลือก...")]),e._l(e.unit,(function(t){return i("option",{key:t.unit_id,domProps:{value:t.unit_id}},[e._v(" "+e._s(t.unit_eng)+" ("+e._s(t.unit_th)+") ")])}))],2),i("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("fertilizer_amount")))]),i("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("unit")))])])])])}))],2),i("div",{staticClass:"text-center"},[i("b-button",{staticClass:"btn btn-success btn-sm ml-1 mt-1 actions",staticStyle:{height:"35px",width:"80px"},on:{click:function(t){return e.addindex()}}},[e._v(" เพิ่ม ")]),i("b-button",{staticClass:"btn btn-danger btn-sm ml-1 mt-1 actions",staticStyle:{height:"35px",width:"80px"},attrs:{disabled:!(e.data.fertilizer_at.length>1)},on:{click:function(t){e.data.fertilizer_at.length>1&&e.data.fertilizer_at.pop()}}},[e._v(" ลด ")])],1)])],1)},g=[],h={components:{},props:{Fertilizer:Function},data:function(){return{data:{fertilizer_type:"",fertilizer_at:[{fertilizer_amount:1,time:"",unit_id:""}],day_times:1,num_first:1,num_pick:1},unit:Array}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=localStorage.getItem("accessToken"),t.next=3,i;case 3:if(!t.sent){t.next=17;break}return t.prev=4,t.next=7,l.a.get(e.$apiUrl+"unit",{headers:{Authorization:"bearer ".concat(i)}});case 7:a=t.sent,e.unit=a.data,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](4),e.$router.push("/"),localStorage.removeItem("user");case 15:t.next=18;break;case 17:e.$router.push("/");case 18:case"end":return t.stop()}}),t,null,[[4,11]])})))()},methods:{addindex:function(){this.data.fertilizer_at.push({fertilizer_amount:1,time:"00:00",unit_id:""})},handleOk:function(e){e.preventDefault(),this.SaveFertilizer()},resetData:function(){this.data={fertilizer_type:"",fertilizer_at:[{fertilizer_amount:1,time:"",unit_id:""}],day_times:1,num_first:1,num_pick:1}},SaveFertilizer:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$validator.validateAll().then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(i){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!i){t.next=21;break}return a=localStorage.getItem("accessToken"),t.next=4,a;case 4:if(!t.sent){t.next=19;break}return t.prev=5,e.$bvModal.hide("AddFertilizer"),t.next=9,l.a.post(e.$apiUrl+"addfertilizer",e.data,{headers:{Authorization:"bearer ".concat(a)}});case 9:e.Fertilizer(),u()("เพิ่มข้อมูลเสร็จสิ้นแล้ว!",{icon:"success",button:"ตกลง"}),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](5),e.$router.push("/"),localStorage.removeItem("username");case 17:t.next=20;break;case 19:e.$router.push("/");case 20:return t.abrupt("return");case 21:u()("ผิดพลาด","กรุณากรอกข้อมูลให้ถูกต้อง!",{icon:"error",button:"ตกลง"});case 22:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()}}},x=h,y=(i("1e5a"),Object(v["a"])(x,b,g,!1,null,null,null)),k=y.exports,w=i("7bb1"),z={th:{attributes:{fertilizer_type:"ชื่อปุ๋ย",day_times:"จำนวนวัน/ครั้ง",num_first:"จำนวนวันก่อนใส่ปุ๋ยครั้งแรก",num_pick:"จำนวนวันหยุดใส่ปุ๋ยก่อนเก็บ",time:"เวลา",fertilizer_amount:"ปริมาณปุ๋ย",unit:"หน่วย"}}};w["a"].localize(z);var C={components:{Edit:_,Add:k},metaInfo:{title:"Fertilizer"},data:function(){return{items:[],isBusy:!0,fields:[{key:"fertilizer_id",label:"ลำดับ",sortable:!0,sortDirection:"desc"},{key:"fertilizer_type",label:"ชื่อปุ๋ย",sortable:!0,class:"text-center"},{key:"fertilizer_at",label:"เวลาและปริมาณปุ๋ย/พื้นที่",sortable:!0,class:"text-center"},{key:"day_times",label:"จำนวนวัน/ครั้ง",sortable:!0,class:"text-center"},{key:"num_first",label:"จำนวนวันก่อนใส่ปุ๋ยครั้งแรก",sortable:!0,class:"text-center"},{key:"num_pick",label:"จำนวนวันหยุดใส่ปุ๋ยก่อนเก็บ",sortable:!0,class:"text-center",sortByFormatted:!0,filterByFormatted:!0},{key:"actions",label:"การดำเนินการ"}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15,30,50,{value:100,text:"100"}],filter:"",filterOn:[],editModal:{id:"edit-modal",title:"",content:""}}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.Fertilizer();case 1:case"end":return t.stop()}}),t)})))()},methods:{Edit:function(e,t,i){this.editModal.title="แก้ไข : ".concat(t),this.editModal.content=e,this.$root.$emit("bv::show::modal",this.editModal.id,i)},Fertilizer:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$toasts.warning("กำลังโหลดข้อมูลกรุณารอสักครู่"),i=localStorage.getItem("accessToken"),t.next=4,i;case 4:if(!t.sent){t.next=22;break}return t.prev=5,t.next=8,l.a.get(e.$apiUrl+"fertilizer",{headers:{Authorization:"bearer ".concat(i)}});case 8:a=t.sent,e.items=a.data,e.editModal.content=a.data[0],e.totalRows=e.items.length,e.isBusy=!1,e.$toasts.success("เรียกข้อมูลเสร็จสิ้น"),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](5),e.$router.push("/"),localStorage.removeItem("username");case 20:t.next=23;break;case 22:e.$router.push("/");case 23:case"end":return t.stop()}}),t,null,[[5,16]])})))()},Delete:function(e,t){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,localStorage.getItem("accessToken");case 2:r=a.sent,u()({title:"คุณแน่ใจหรือไม่?",text:"คุณแน่ใจหรือไม่ที่จะลบไอดี : "+t,icon:"warning",buttons:["ยกเลิก","ตกลง"],dangerMode:!0}).then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=7;break}return t.next=3,l.a.delete(i.$apiUrl+"fertilizer/"+e,{headers:{Authorization:"bearer ".concat(r)}});case 3:i.Fertilizer(),u()("ลบเสร็จสิ้น!",{icon:"success",button:"ตกลง"}),t.next=8;break;case 7:u()("ยกเลิกแล้ว!",{icon:"success",button:"ตกลง"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return a.stop()}}),a)})))()}}},$=C,M=(i("27eb"),Object(v["a"])($,a,r,!1,null,"e02aaaf4",null));t["default"]=M.exports},e427:function(e,t,i){}}]);
//# sourceMappingURL=chunk-2d90b630.59484a1f.js.map