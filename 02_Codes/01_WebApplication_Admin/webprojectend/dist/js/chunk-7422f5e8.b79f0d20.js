(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7422f5e8"],{"0e8a":function(e,t,a){"use strict";a("95ad")},"0ec6":function(e,t,a){"use strict";a("61b9")},"159b":function(e,t,a){var r=a("da84"),s=a("fdbc"),n=a("17c2"),i=a("9112");for(var o in s){var l=r[o],c=l&&l.prototype;if(c&&c.forEach!==n)try{i(c,"forEach",n)}catch(u){c.forEach=n}}},"17c2":function(e,t,a){"use strict";var r=a("b727").forEach,s=a("a640"),n=s("forEach");e.exports=n?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"61b9":function(e,t,a){},"65f0":function(e,t,a){var r=a("861d"),s=a("e8b5"),n=a("b622"),i=n("species");e.exports=function(e,t){var a;return s(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?r(a)&&(a=a[i],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},"7db0":function(e,t,a){"use strict";var r=a("23e7"),s=a("b727").find,n=a("44d2"),i="find",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),r({target:"Array",proto:!0,forced:o},{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),n(i)},"8d6a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-container",{attrs:{fluid:""}},[a("b-row",{attrs:{"align-h":"between"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"9",md:"6",lg:"5",xl:"4"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"ค้นหา","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"พิมพ์เพื่อค้นหา"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("ล้างการค้นหา")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1 text-right",attrs:{sm:"7",md:"5",lg:"4",xl:"4"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.AddProblems",modifiers:{AddProblems:!0}}],staticClass:"btn btn-success btn-sm",staticStyle:{height:"35px",width:"140px"}},[e._v(" เพิ่ม ")])],1)],1),a("b-table",{staticClass:"table table-bordered",attrs:{items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-included-fields":e.filterOn,busy:e.isBusy,stacked:"sm","empty-text":"ไม่มีข้อมูล","empty-filtered-text":"ไม่มีข้อมูล","show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[e._v("กำลังโหลด...")])],1)]},proxy:!0},{key:"cell(problems_id)",fn:function(t){return[e._v(" "+e._s(t.item.id))]}},{key:"cell(solving)",fn:function(t){return e._l(t.value,(function(t,r){return a("span",{key:r},[e._v(e._s(t.name)+" "+e._s(""==t.amount?"":"จำนวน "+t.amount+" "+t.unit.unit_th)),a("br")])}))}},{key:"cell(cycle)",fn:function(t){return[e._v(" "+e._s(""==t.value?"-":t.value+" วันครั้ง"))]}},{key:"cell(phase)",fn:function(t){return[e._v(" "+e._s(""==t.value?"-":t.value+" ครั้ง"))]}},{key:"cell(actions)",fn:function(t){return[a("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"แก้ไข : "+t.item.problems_name,expression:"'แก้ไข : ' + row.item.problems_name",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-warning btn-sm ml-1 mt-1 actions",staticStyle:{height:"35px"},on:{click:function(a){return e.Edit(t.item,t.item.problems_id,a.target)}}},[a("i",{staticClass:"material-icons"},[e._v(" edit ")])]),a("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"ลบ : "+t.item.problems_name,expression:"'ลบ : ' + row.item.problems_name",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-danger btn-sm ml-1 mt-1 actions",staticStyle:{height:"35px"},on:{click:function(a){return e.Delete(t.item.problems_id)}}},[a("i",{staticClass:"material-icons"},[e._v(" delete_forever ")])])]}}])}),a("b-row",{attrs:{"align-h":"between"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"6",md:"6",lg:"5",xl:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"แสดงหน้าละ","label-for":"per-page-select","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm"}},[a("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{sm:"6",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),a("Edit",{attrs:{editModal:e.editModal,Problems:e.Problems,sizes:e.sizes}}),a("Add",{attrs:{Problems:e.Problems,sizes:e.sizes}})],1)],1)},s=[],n=a("1da1"),i=(a("159b"),a("7db0"),a("96cf"),a("bc3a")),o=a.n(i),l=a("1940"),c=a.n(l),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Edit"}},[a("b-modal",{attrs:{id:e.editModal.id,title:e.editModal.title,"ok-title":"ตกลง","cancel-title":"ยกเลิก",size:"lg"},on:{ok:e.handleOk,cancel:e.Problems}},[a("form",{staticClass:"needs-validation form-group"},[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ปัญหา:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editModal.content.problems_name,expression:"editModal.content.problems_name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("problems_name")},attrs:{type:"text",name:"problems_name","aria-label":"Problems type"},domProps:{value:e.editModal.content.problems_name},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"problems_name",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("problems_name")))])])])]),e._l(e.editModal.content.solving,(function(t,r){return a("div",{key:r,staticClass:"row mb-3"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("แก้ปัญหา:")]),a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("solving")},attrs:{list:"my-list-id",type:"text","aria-label":"solving",name:"solving"},model:{value:e.editModal.content.solving[r].name,callback:function(t){e.$set(e.editModal.content.solving[r],"name",t)},expression:"editModal.content.solving[index].name"}},[e._v(e._s(t))]),a("datalist",{attrs:{id:"my-list-id"}},e._l(e.sizes,(function(t){return a("option",{key:t},[e._v(e._s(t.name))])})),0),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("solving")))])],1)]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("จำนวน:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editModal.content.solving[r].amount,expression:"editModal.content.solving[index].amount"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("amount")},attrs:{type:"number","aria-label":"amount",name:"amount"},domProps:{value:e.editModal.content.solving[r].amount},on:{input:function(t){t.target.composing||e.$set(e.editModal.content.solving[r],"amount",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("amount")))])])]),a("div",{staticClass:"col-4",staticStyle:{"min-width":"300px"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.editModal.content.solving[r].unit.unit_id,expression:"editModal.content.solving[index].unit.unit_id"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select input-group-text",class:{input:!0,"is-invalid":e.errors.has("unit")},attrs:{name:"unit",required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.editModal.content.solving[r].unit,"unit_id",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("กรุณาเลือก...")]),e._l(e.unit,(function(t){return a("option",{key:t.unit_id,domProps:{value:t.unit_id}},[e._v(" "+e._s(t.unit_eng)+" ("+e._s(t.unit_th)+") ")])}))],2),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("fertilizer_amount")))]),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("unit")))])])])})),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("รอบการใส่:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editModal.content.cycle,expression:"editModal.content.cycle"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("cycle")},attrs:{type:"number","aria-label":"cycle",name:"cycle"},domProps:{value:e.editModal.content.cycle},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"cycle",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("cycle")))])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ระยะการใส่:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editModal.content.phase,expression:"editModal.content.phase"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("phase")},attrs:{type:"number","aria-label":"phase",name:"phase"},domProps:{value:e.editModal.content.phase},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"phase",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("phase")))])])])])],2)])],1)},d=[],p=a("7bb1"),m={th:{attributes:{solving:"แก้ปัญหา"}}};p["a"].localize(m);var v={components:{},props:{editModal:Object,Problems:Function,sizes:Array},data:function(){return{unit:Array}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=localStorage.getItem("accessToken"),t.next=3,a;case 3:if(!t.sent){t.next=17;break}return t.prev=4,t.next=7,o.a.get(e.$apiUrl+"unit",{headers:{Authorization:"bearer ".concat(a)}});case 7:r=t.sent,e.unit=r.data,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](4),e.$router.push("/"),localStorage.removeItem("user");case 15:t.next=18;break;case 17:e.$router.push("/");case 18:case"end":return t.stop()}}),t,null,[[4,11]])})))()},methods:{handleOk:function(e){e.preventDefault(),this.SaveProblems()},SaveProblems:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$validator.validateAll().then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return r=localStorage.getItem("accessToken"),t.next=4,r;case 4:if(!t.sent){t.next=8;break}try{c()({title:"คุณแน่ใจหรือไม่?",text:"คุณแน่ใจหรือไม่ที่จะอัพเดท?",icon:"warning",buttons:["ยกเลิก","ตกลง"],dangerMode:!0}).then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return t.next=3,o.a.put(e.$apiUrl+"problems/"+e.editModal.content.problems_id,e.editModal.content,{headers:{Authorization:"bearer ".concat(r)}});case 3:e.Problems(),c()("อัพเดทเสร็จสิ้น!",{icon:"success",button:"ตกลง"}),e.$bvModal.hide(e.editModal.id),t.next=9;break;case 8:c()("ยกเลิกแล้ว!",{icon:"error",button:"ตกลง"});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(s){e.$router.push("/"),localStorage.removeItem("username")}t.next=9;break;case 8:e.$router.push("/");case 9:return t.abrupt("return");case 10:c()("ผิดพลาด","กรุณากรอกข้อมูลให้ถูกต้อง!",{icon:"error",button:"ตกลง"});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()}}},b=v,f=a("2877"),g=Object(f["a"])(b,u,d,!1,null,null,null),h=g.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Add"}},[a("b-modal",{attrs:{id:"AddProblems",title:"เพิ่มข้อมูลปัญหา","ok-title":"ตกลง","cancel-title":"ยกเลิก",size:"lg"},on:{ok:e.handleOk,show:e.resetData}},[a("form",{staticClass:"needs-validation form-group"},[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ปัญหา:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.problems_name,expression:"data.problems_name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("problems_name")},attrs:{type:"text",name:"problems_name","aria-label":"Problems type"},domProps:{value:e.data.problems_name},on:{input:function(t){t.target.composing||e.$set(e.data,"problems_name",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("problems_name")))])])])]),e._l(e.data.solving,(function(t,r){return a("div",{key:r,staticClass:"row mb-3"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("แก้ปัญหา:")]),a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("solving")},attrs:{list:"my-list-id",type:"text","aria-label":"solving",name:"solving"},model:{value:e.data.solving[r].name,callback:function(t){e.$set(e.data.solving[r],"name",t)},expression:"data.solving[index].name"}}),a("datalist",{attrs:{id:"my-list-id"}},e._l(e.sizes,(function(t,r){return a("option",{key:r},[e._v(e._s(t.name))])})),0),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("solving")))])],1)]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("จำนวน:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.solving[r].amount,expression:"data.solving[index].amount"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("amount")},attrs:{type:"number","aria-label":"amount",name:"amount"},domProps:{value:e.data.solving[r].amount},on:{input:function(t){t.target.composing||e.$set(e.data.solving[r],"amount",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("amount")))])])]),a("div",{staticClass:"col-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.data.solving[r].unit_id,expression:"data.solving[index].unit_id"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select input-group-text",class:{input:!0,"is-invalid":e.errors.has("unit")},attrs:{name:"unit",required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.data.solving[r],"unit_id",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("กรุณาเลือก...")]),e._l(e.unit,(function(t){return a("option",{key:t.unit_id,domProps:{value:t.unit_id}},[e._v(" "+e._s(t.unit_eng)+" ("+e._s(t.unit_th)+") ")])}))],2),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("fertilizer_amount")))]),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("unit")))])])])})),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("รอบการใส่:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.cycle,expression:"data.cycle"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("cycle")},attrs:{type:"number","aria-label":"cycle",name:"cycle"},domProps:{value:e.data.cycle},on:{input:function(t){t.target.composing||e.$set(e.data,"cycle",t.target.value)}}}),a("span",{staticClass:"input-group-text"},[e._v("วันครั้ง")]),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("cycle")))])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ระยะการใส่:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.phase,expression:"data.phase"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("phase")},attrs:{type:"number","aria-label":"phase",name:"phase"},domProps:{value:e.data.phase},on:{input:function(t){t.target.composing||e.$set(e.data,"phase",t.target.value)}}}),a("span",{staticClass:"input-group-text"},[e._v("ครั้ง")]),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("phase")))])])])])],2)])],1)},x=[],y={th:{attributes:{solving:"การแก้ปัญหา",problems_name:"ปัญหา"}}};p["a"].localize(y);var w={components:{},props:{Problems:Function,sizes:Array},data:function(){return{data:{},unit:Array}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=localStorage.getItem("accessToken"),t.next=3,a;case 3:if(!t.sent){t.next=17;break}return t.prev=4,t.next=7,o.a.get(e.$apiUrl+"unit",{headers:{Authorization:"bearer ".concat(a)}});case 7:r=t.sent,e.unit=r.data,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](4),e.$router.push("/"),localStorage.removeItem("user");case 15:t.next=18;break;case 17:e.$router.push("/");case 18:case"end":return t.stop()}}),t,null,[[4,11]])})))()},methods:{handleOk:function(e){e.preventDefault(),this.SaveProblems()},resetData:function(){this.data={problems_name:"",cycle:"",solving:[{name:"",amount:"",unit_id:""}]}},SaveProblems:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$validator.validateAll().then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=20;break}return r=localStorage.getItem("accessToken"),t.next=4,r;case 4:if(!t.sent){t.next=18;break}return t.prev=5,e.$bvModal.hide("AddProblems"),t.next=9,o.a.post(e.$apiUrl+"addproblems",e.data,{headers:{Authorization:"bearer ".concat(r)}}).catch((function(e){e.response&&401===e.response.status&&c()("ผิดพลาด : "+e.response.status,e.response.data,"ผิดพลาด",{icon:"error",button:"ตกลง"})}));case 9:s=t.sent,s&&(e.Problems(),c()("เพิ่มข้อมูลเสร็จสิ้นแล้ว!",{icon:"success",button:"ตกลง"})),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](5),e.$router.push("/");case 16:t.next=19;break;case 18:e.$router.push("/");case 19:return t.abrupt("return");case 20:c()("ผิดพลาด","กรุณากรอกข้อมูลให้ถูกต้อง!",{icon:"error",button:"ตกลง"});case 21:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()}}},k=w,C=(a("0e8a"),Object(f["a"])(k,_,x,!1,null,null,null)),P=C.exports,M={th:{attributes:{problems_name:"รายการปัญหา",solving:"แก้ปัญหา"}}};p["a"].localize(M);var $={components:{Add:P,Edit:h},metaInfo:{title:"Problems"},data:function(){return{items:[],isBusy:!0,fields:[{key:"problems_id",label:"ลำดับ",sortable:!0,sortDirection:"desc"},{key:"problems_name",label:"รายการปัญหา",sortable:!0,class:"text-center"},{key:"solving",label:"แก้ปัญหา",sortable:!0,class:"text-center"},{key:"cycle",label:"รอบการใส่",sortable:!0,class:"text-center"},{key:"phase",label:"ระยะการใส่",sortable:!0,class:"text-center"},{key:"actions",label:"การดำเนินการ"}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15,{value:100,text:"100"}],filter:"",filterOn:[],sizes:[],editModal:{id:"edit-modalp",title:"",content:""}}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.Problems();case 1:case"end":return t.stop()}}),t)})))()},methods:{Edit:function(e,t,a){this.editModal.title="แก้ไข : ".concat(t),this.editModal.content=e,this.$root.$emit("bv::show::modal",this.editModal.id,a)},Problems:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.sizes=[],e.$toasts.warning("กำลังโหลดข้อมูลกรุณารอสักครู่"),a=localStorage.getItem("accessToken"),t.next=5,a;case 5:if(!t.sent){t.next=24;break}return t.prev=6,t.next=9,o.a.get(e.$apiUrl+"problems",{headers:{Authorization:"bearer ".concat(a)}});case 9:r=t.sent,e.items=r.data,e.editModal.content=r.data[0],e.totalRows=e.items.length,e.isBusy=!1,e.$toasts.success("เรียกข้อมูลเสร็จสิ้น"),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](6),e.$router.push("/"),localStorage.removeItem("username");case 21:r.data.forEach((function(t){t.solving.forEach((function(t){e.sizes.find((function(e){return t==e}))||e.sizes.push(t)}))})),t.next=25;break;case 24:e.$router.push("/");case 25:case"end":return t.stop()}}),t,null,[[6,17]])})))()},Delete:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,localStorage.getItem("accessToken");case 2:r=a.sent,c()({title:"คุณแน่ใจหรือไม่?",text:"คุณแน่ใจหรือไม่ที่จะลบไอดี : "+e,icon:"warning",buttons:!0,dangerMode:!0}).then(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s){a.next=7;break}return a.next=3,o.a.delete(t.$apiUrl+"problems/"+e,{headers:{Authorization:"bearer ".concat(r)}});case 3:t.Problems(),c()("ลบเสร็จสิ้น!",{icon:"success"}),a.next=8;break;case 7:c()("ยกเลิกแล้ว!");case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 4:case"end":return a.stop()}}),a)})))()}}},z=$,A=(a("0ec6"),Object(f["a"])(z,r,s,!1,null,"378bd2a3",null));t["default"]=A.exports},"95ad":function(e,t,a){},a640:function(e,t,a){"use strict";var r=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&r((function(){a.call(null,t||function(){throw 1},1)}))}},b727:function(e,t,a){var r=a("0366"),s=a("44ad"),n=a("7b0b"),i=a("50c4"),o=a("65f0"),l=[].push,c=function(e){var t=1==e,a=2==e,c=3==e,u=4==e,d=6==e,p=7==e,m=5==e||d;return function(v,b,f,g){for(var h,_,x=n(v),y=s(x),w=r(b,f,3),k=i(y.length),C=0,P=g||o,M=t?P(v,k):a||p?P(v,0):void 0;k>C;C++)if((m||C in y)&&(h=y[C],_=w(h,C,x),e))if(t)M[C]=_;else if(_)switch(e){case 3:return!0;case 5:return h;case 6:return C;case 2:l.call(M,h)}else switch(e){case 4:return!1;case 7:l.call(M,h)}return d?-1:c||u?u:M}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},e8b5:function(e,t,a){var r=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}}}]);
//# sourceMappingURL=chunk-7422f5e8.b79f0d20.js.map