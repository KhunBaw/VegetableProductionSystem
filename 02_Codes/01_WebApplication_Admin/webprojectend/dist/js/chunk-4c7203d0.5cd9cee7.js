(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c7203d0"],{"0edc":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-container",{attrs:{fluid:""}},[a("b-row",{attrs:{"align-h":"between"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"9",md:"6",lg:"5",xl:"4"}},[a("b-form-group",{staticClass:"mb-2",attrs:{label:"ค้นหา","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"พิมพ์เพื่อค้นหา"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("ล้างการค้นหา")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1 text-right",attrs:{sm:"7",md:"5",lg:"4",xl:"4"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.AddArea",modifiers:{AddArea:!0}}],staticClass:"btn btn-success btn-sm",staticStyle:{height:"35px",width:"140px"}},[e._v(" เพิ่ม ")])],1)],1),a("b-table",{staticClass:"table table-bordered",attrs:{items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-included-fields":e.filterOn,busy:e.isBusy,stacked:"sm","empty-text":"ไม่มีข้อมูล","empty-filtered-text":"ไม่มีข้อมูล","show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[e._v(" กำลังโหลด...")])],1)]},proxy:!0},{key:"cell(area_id)",fn:function(t){return[e._v(" "+e._s(t.item.id))]}},{key:"cell(area_long)",fn:function(t){return[e._v(" "+e._s(t.value)+" ซม. ")]}},{key:"cell(area_wide)",fn:function(t){return[e._v(" "+e._s(t.value)+" ซม. ")]}},{key:"cell(area_rest_period)",fn:function(t){return[e._v(" "+e._s(t.value)+" วัน ")]}},{key:"cell(area_lv)",fn:function(t){return[e._v(" "+e._s(""==t.value?"-":t.value))]}},{key:"cell(area_detail)",fn:function(t){return[e._v(" "+e._s(""==t.value?"-":t.value))]}},{key:"cell(area_photo)",fn:function(e){return[a("img",{staticStyle:{width:"auto",height:"100px"},attrs:{src:e.value}})]}},{key:"cell(actions)",fn:function(t){return[a("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"แก้ไขพื้นที่ : "+t.item.area_name,expression:"'แก้ไขพื้นที่ : ' + row.item.area_name",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-warning btn-sm ml-1 mt-1 actions",staticStyle:{height:"35px"},attrs:{disabled:t.item.status},on:{click:function(a){return e.Edit(t.item,t.item.area_name,a.target)}}},[a("i",{staticClass:"material-icons"},[e._v(" edit ")])]),a("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"ลบพื้นที่ : "+t.item.area_name,expression:"'ลบพื้นที่ : ' + row.item.area_name",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-danger btn-sm ml-1 mt-1 actions",staticStyle:{height:"35px"},attrs:{disabled:t.item.status},on:{click:function(a){return e.Delete(t.item.area_id,t.item.area_name)}}},[a("i",{staticClass:"material-icons"},[e._v(" delete_forever ")])])]}}])}),a("b-row",{attrs:{"align-h":"between"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"6",md:"6",lg:"5",xl:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"แสดงหน้าละ","label-for":"per-page-select","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm"}},[a("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{sm:"6",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),a("Edit",{attrs:{editModal:e.editModal,Area:e.Area}}),a("Add",{attrs:{Area:e.Area}})],1)],1)},n=[],i=a("1da1"),s=(a("96cf"),a("bc3a")),o=a.n(s),l=a("1940"),c=a.n(l),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Edit"}},[a("b-modal",{attrs:{id:e.editModal.id,title:e.editModal.title,"ok-title":"ตกลง","cancel-title":"ยกเลิก",size:"lg"},on:{ok:e.handleOk,cancel:e.Area}},[a("form",{staticClass:"needs-validation"},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ชื่อแปลงผัก:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editModal.content.area_name,expression:"editModal.content.area_name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("area_name")},attrs:{type:"text","aria-label":"Area type",name:"area_name"},domProps:{value:e.editModal.content.area_name},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"area_name",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("area_name")))])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 mb-3"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ความยาว:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editModal.content.area_long,expression:"editModal.content.area_long",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|min:1",expression:"'required|min:1'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("area_long")},attrs:{type:"number","aria-label":"Area type",name:"area_long"},domProps:{value:e.editModal.content.area_long},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"area_long",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("span",{staticClass:"input-group-text"},[e._v("ซม.")]),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("area_long")))])])]),a("div",{staticClass:"col-6 mb-3"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ความกว้าง:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editModal.content.area_wide,expression:"editModal.content.area_wide",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|min:1",expression:"'required|min:1'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("area_wide")},attrs:{type:"number","aria-label":"Area type",name:"area_wide"},domProps:{value:e.editModal.content.area_wide},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"area_wide",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("span",{staticClass:"input-group-text"},[e._v("ซม.")]),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("area_wide")))])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col mb-3"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("พักพื้นที่:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editModal.content.area_rest_period,expression:"editModal.content.area_rest_period",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|min:1",expression:"'required|min:1'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("area_rest_period")},attrs:{type:"number","aria-label":"area_rest_period",name:"area_rest_period",min:"0"},domProps:{value:e.editModal.content.area_rest_period},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"area_rest_period",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("span",{staticClass:"input-group-text"},[e._v("วัน")])]),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("area_rest_period")))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col mb-3"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[e._v("รายละเอียด")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editModal.content.area_detail,expression:"editModal.content.area_detail"}],staticClass:"form-control",attrs:{"aria-label":"With textarea"},domProps:{value:e.editModal.content.area_detail},on:{input:function(t){t.target.composing||e.$set(e.editModal.content,"area_detail",t.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col mb-3"},[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"inputGroupFileAddon01"}},[e._v("อัพโหลดภาพ")])]),a("div",{staticClass:"custom-file"},[a("input",{ref:"file",staticClass:"custom-file-input",attrs:{type:"file",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01"},on:{change:function(t){return e.handleFileUpload()}}}),a("label",{staticClass:"custom-file-label",attrs:{for:"inputGroupFile01"}},[e._v(e._s(""==e.editModal.content.area_photo?"เลือกไฟล์":e.editModal.content.area_photo))])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-center",attrs:{id:"preview"}},[(null===e.url?e.editModal.content.area_photo:e.url)?a("img",{staticStyle:{"max-width":"50%",height:"auto"},attrs:{src:null===e.url?e.editModal.content.area_photo:e.url}}):e._e()])])])])])],1)},d=[],p=(a("2b3d"),a("d3b7"),a("3ca3"),a("ddb0"),{components:{},props:{editModal:Object,Area:Function},data:function(){return{file:"",url:null}},methods:{handleOk:function(e){e.preventDefault(),this.SaveArea()},handleFileUpload:function(){this.file=this.$refs.file.files[0],this.url=URL.createObjectURL(this.file)},SaveArea:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$validator.validateAll().then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return r=localStorage.getItem("accessToken"),t.next=4,r;case 4:if(!t.sent){t.next=8;break}try{c()({title:"คุณแน่ใจหรือไม่?",text:"คุณแน่ใจหรือไม่ที่จะอัพเดท?",icon:"warning",buttons:["ยกเลิก","ตกลง"],dangerMode:!0}).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=15;break}if(e.$bvModal.hide(e.editModal.id),n=new FormData,n.append("file",e.file),null==e.url){t.next=11;break}return t.next=7,o.a.post(e.$apiUrl+"upload",n,{headers:{Authorization:"bearer ".concat(r),"Content-Type":"multipart/form-data"}}).catch((function(){return c()("ผิดพลาด","อัพรูปไม่สำเร็จ",{icon:"error",button:"ตกลง"})}));case 7:i=t.sent,e.Save(i.data),t.next=12;break;case 11:e.Save(e.editModal.content.area_photo);case 12:e.Area(),t.next=16;break;case 15:c()("ยกเลิกแล้ว!",{button:"ตกลง"});case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(n){e.$router.push("/"),localStorage.removeItem("username")}t.next=9;break;case 8:e.$router.push("/");case 9:return t.abrupt("return");case 10:c()("ผิดพลาด","กรุณากรอกข้อมูลให้ถูกต้อง!",{icon:"error",button:"ตกลง"});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},Save:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.editModal.content.area_photo=e,r=localStorage.getItem("accessToken"),a.next=4,r;case 4:if(!a.sent){a.next=7;break}return a.next=7,o.a.put(t.$apiUrl+"area/"+t.editModal.content.area_id,t.editModal.content,{headers:{Authorization:"bearer ".concat(r)}}).then((function(){return c()("อัพเดทเสร็จสิ้น!",{icon:"success",button:"ตกลง"})})).catch((function(){return c()("ผิดพลาด",{icon:"error",button:"ตกลง"})}));case 7:case"end":return a.stop()}}),a)})))()}}}),m=p,v=a("2877"),f=Object(v["a"])(m,u,d,!1,null,null,null),b=f.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Add"}},[a("b-modal",{attrs:{id:"AddArea",title:"เพิ่มข้อมูลพื้นที่ปลูก","ok-title":"ตกลง","cancel-title":"ยกเลิก",size:"lg"},on:{ok:e.handleOk,show:e.resetData}},[a("form",{staticClass:"needs-validation form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col mb-3"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ชื่อแปลงผัก:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.area_name,expression:"data.area_name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("area_name")},attrs:{type:"text","aria-label":"Area type",name:"area_name"},domProps:{value:e.data.area_name},on:{input:function(t){t.target.composing||e.$set(e.data,"area_name",t.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("area_name")))])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 mb-3"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ความยาว:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.data.area_long,expression:"data.area_long",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|min:1",expression:"'required|min:1'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("area_long")},attrs:{type:"number","aria-label":"Area type",name:"area_long"},domProps:{value:e.data.area_long},on:{input:function(t){t.target.composing||e.$set(e.data,"area_long",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("span",{staticClass:"input-group-text"},[e._v("ซม.")])]),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("area_long")))])]),a("div",{staticClass:"col-6 mb-3"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("ความกว้าง:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.data.area_wide,expression:"data.area_wide",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|min:1",expression:"'required|min:1'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("area_wide")},attrs:{type:"number","aria-label":"Area type",name:"area_wide"},domProps:{value:e.data.area_wide},on:{input:function(t){t.target.composing||e.$set(e.data,"area_wide",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("span",{staticClass:"input-group-text"},[e._v("ซม.")]),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("area_wide")))])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col mb-3"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text"},[e._v("พักพื้นที่:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.data.area_rest_period,expression:"data.area_rest_period",modifiers:{number:!0}},{name:"validate",rawName:"v-validate",value:"required|min:1",expression:"'required|min:1'"}],staticClass:"form-control",class:{input:!0,"is-invalid":e.errors.has("area_rest_period")},attrs:{type:"number","aria-label":"area_rest_period",name:"area_rest_period"},domProps:{value:e.data.area_rest_period},on:{input:function(t){t.target.composing||e.$set(e.data,"area_rest_period",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("span",{staticClass:"input-group-text"},[e._v("วัน")])]),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("area_rest_period")))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col mb-3"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[e._v("รายละเอียด")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.data.area_detail,expression:"data.area_detail"}],staticClass:"form-control",attrs:{"aria-label":"With textarea"},domProps:{value:e.data.area_detail},on:{input:function(t){t.target.composing||e.$set(e.data,"area_detail",t.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"inputGroupFileAddon01"}},[e._v("อัพโหลดภาพ")])]),a("div",{staticClass:"custom-file"},[a("input",{ref:"file",staticClass:"custom-file-input",attrs:{type:"file",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01"},on:{change:function(t){return e.handleFileUpload()}}}),a("label",{staticClass:"custom-file-label",attrs:{for:"inputGroupFile01"}},[e._v(e._s(""==e.file?"เลือกไฟล์":e.file.name))])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-center",attrs:{id:"preview"}},[e.url?a("img",{staticStyle:{"max-width":"50%",height:"auto"},attrs:{src:e.url}}):e._e()])])])])])],1)},_=[],h={components:{},props:{Area:Function},data:function(){return{file:"",url:null,data:{}}},mounted:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{handleOk:function(e){e.preventDefault(),this.SaveArea()},resetData:function(){this.file="",this.url=null,this.data={area_name:"",area_long:1,area_wide:1,area_photo:"",area_detail:"",area_rest_period:1}},handleFileUpload:function(){this.file=this.$refs.file.files[0],this.url=URL.createObjectURL(this.file)},SaveArea:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$validator.validateAll().then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=28;break}return r=localStorage.getItem("accessToken"),t.next=4,r;case 4:if(!t.sent){t.next=26;break}if(t.prev=5,e.$bvModal.hide("AddArea"),n=new FormData,n.append("file",e.file),null==e.url){t.next=16;break}return t.next=12,o.a.post(e.$apiUrl+"upload",n,{headers:{Authorization:"bearer ".concat(r),"Content-Type":"multipart/form-data"}}).catch((function(){return c()("ผิดพลาด","อัพรูปไม่สำเร็จ",{icon:"error",button:"ตกลง"})}));case 12:i=t.sent,e.Save(i.data),t.next=17;break;case 16:e.Save("https://firebasestorage.googleapis.com/v0/b/project-end-e92b5.appspot.com/o/no-image.png?alt=media&token=dcc723f4-2f63-4b64-8b23-d22cd6f9b45c");case 17:e.Area(),t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](5),e.$router.push("/"),localStorage.removeItem("username");case 24:t.next=27;break;case 26:e.$router.push("/");case 27:return t.abrupt("return");case 28:c()("ผิดพลาด","กรุณากรอกข้อมูลให้ถูกต้อง!",{icon:"error",button:"ตกลง"});case 29:case"end":return t.stop()}}),t,null,[[5,20]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},Save:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.data.area_photo=e,r=localStorage.getItem("accessToken"),a.next=4,r;case 4:if(!a.sent){a.next=7;break}return a.next=7,o.a.post(t.$apiUrl+"addarea",t.data,{headers:{Authorization:"bearer ".concat(r)}}).then((function(){return c()("อัพเดทเสร็จสิ้น!",{icon:"success",button:"ตกลง"})})).catch((function(){return c()("ผิดพลาด",{icon:"error",button:"ตกลง"})}));case 7:case"end":return a.stop()}}),a)})))()}}},x=h,w=(a("bc0f"),Object(v["a"])(x,g,_,!1,null,null,null)),C=w.exports,k=a("7bb1"),y={th:{attributes:{area_name:"ชื่อแปลงผัก",area_long:"ความยาว",area_wide:"ความกว้าง",area_detail:"รายละเอียด",area_rest_period:"พักพื้นที่"}}};k["a"].localize(y);var A={components:{Edit:b,Add:C},metaInfo:{title:"Area"},data:function(){return{items:[],isBusy:!0,fields:[{key:"area_id",label:"ลำดับ",sortable:!0,sortDirection:"desc"},{key:"area_photo",label:"รูปภาพ",sortable:!0,class:"text-center"},{key:"area_name",label:"ชื่อแปลงผัก",sortable:!0,class:"text-center"},{key:"area_long",label:"ความยาว",sortable:!0,class:"text-center"},{key:"area_wide",label:"ความกว้าง",sortable:!0,class:"text-center"},{key:"area_rest_period",label:"พักแปลงผัก",sortable:!0,class:"text-center"},{key:"area_lv",label:"ผักล่าสุด",sortable:!0,class:"text-center"},{key:"area_detail",label:"รายละเอียด",sortable:!0,class:"text-center"},{key:"actions",label:"การดำเนินการ"}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15,30,50,{value:100,text:"100"}],filter:"",filterOn:[],editModal:{id:"edit-modal",title:"",content:""}}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.Area();case 1:case"end":return t.stop()}}),t)})))()},methods:{Edit:function(e,t,a){this.editModal.title="แก้ไข : ".concat(t),this.editModal.content=e,this.$root.$emit("bv::show::modal",this.editModal.id,a)},Area:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$toasts.warning("กำลังโหลดข้อมูลกรุณารอสักครู่"),a=localStorage.getItem("accessToken"),t.next=4,a;case 4:if(!t.sent){t.next=22;break}return t.prev=5,t.next=8,o.a.get(e.$apiUrl+"area",{headers:{Authorization:"bearer ".concat(a)}});case 8:r=t.sent,e.items=r.data,e.editModal.content=r.data[0],e.totalRows=e.items.length,e.isBusy=!1,e.$toasts.success("เรียกข้อมูลเสร็จสิ้น"),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](5),e.$router.push("/"),localStorage.removeItem("username");case 20:t.next=23;break;case 22:e.$router.push("/");case 23:case"end":return t.stop()}}),t,null,[[5,16]])})))()},Photo:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=localStorage.getItem("accessToken"),a.next=3,r;case 3:if(!a.sent){a.next=17;break}return a.prev=4,a.next=7,o.a.get(t.$apiUrl+"img/"+e,{headers:{Authorization:"bearer ".concat(r)}});case 7:return n=a.sent,console.log(n.config.url),a.abrupt("return",n.config.url);case 12:a.prev=12,a.t0=a["catch"](4),alert("1");case 15:a.next=18;break;case 17:alert("2");case 18:case"end":return a.stop()}}),a,null,[[4,12]])})))()},Delete:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,localStorage.getItem("accessToken");case 2:n=r.sent,c()({title:"คุณแน่ใจหรือไม่?",text:"คุณแน่ใจหรือไม่ที่จะลบ : "+t,icon:"warning",buttons:["ยกเลิก","ตกลง"],dangerMode:!0}).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=7;break}return t.next=3,o.a.delete(a.$apiUrl+"area/"+e,{headers:{Authorization:"bearer ".concat(n)}});case 3:a.Area(),c()("ลบเสร็จสิ้น!",{icon:"success",button:"ตกลง"}),t.next=8;break;case 7:c()("ยกเลิกแล้ว!",{icon:"success",button:"ตกลง"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return r.stop()}}),r)})))()}}},M=A,$=(a("7585"),Object(v["a"])(M,r,n,!1,null,"b93317e4",null));t["default"]=$.exports},"732d":function(e,t,a){},7585:function(e,t,a){"use strict";a("b07a")},b07a:function(e,t,a){},bc0f:function(e,t,a){"use strict";a("732d")}}]);
//# sourceMappingURL=chunk-4c7203d0.5cd9cee7.js.map